#!/bin/bash
#
# bandit-set - Set enviromment variables for BANDIT
#
# Copyright (C) 2015-2017 Angel Linares Zapater
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License, version 2, as 
# published by the Free Software Foundation. See the COPYING file.
#
# This program is distributed WITHOUT ANY WARRANTY; without even the 
# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  
#

###----------------------------------------
# Prepare the environment for BANDIT
###----------------------------------------

echo

# Remove BANDIT_HOME from PATH
if [ "$BANDIT_HOME" ] ; then
    echo "Removing old BANDIT_HOME from PATH..."
    NEW=""
    OLDIFS=$IFS
    IFS=':'
    for STR in $PATH; do
        if [ "$STR" != "$BANDIT_HOME/bin" ] ; then
            NEW=${NEW:+$NEW:}$STR
        fi
    done
    IFS=$OLDIFS
    PATH=$NEW
fi

#Define BANDIT_HOME and add it to PATH   
echo
echo "Setting BANDIT_HOME..."
export BANDIT_HOME=`pwd`
echo "BANDIT_HOME="$BANDIT_HOME
echo
echo "Adding BANDIT_HOME/bin to PATH"
export PATH=$PATH:$BANDIT_HOME/bin
echo "PATH="$PATH
echo

